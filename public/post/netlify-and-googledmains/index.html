<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  
<title>Netlifyで独自ドメイン（Google Domains）を使う | kyoheiu.gitlab.io</title>


  <link rel="shortcut icon" type="image/png" href="&#x2F;images&#x2F;icon.png">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link id="stylesheet" rel="stylesheet" type="text/css" href="/dark.css">

  <script type="text/javascript" src="/js/theme.js"></script>

</head>

<div class="header">
  <div class="site_title">
    <p><a href="/"><img src="https:&#x2F;&#x2F;kyoheiu.gitlab.io&#x2F;images&#x2F;icon.png" alt="kyoheiu.gitlab.io"
          width="70" height=auto></a></p>
    <p><a href="/">&nbsp;kyoheiu.gitlab.io</a></p>
  </div>
  <div class="menu">
    <a href="/post">>archives</a>
    &nbsp;<a href="/about">>about</a>
  </div>
</div>

<body onload="getTheme()">
  <section class="section">
    <div class="container">
      
<p>
  <div class="title_postpage">Netlifyで独自ドメイン（Google Domains）を使う</div>
</p>
<p>
  <div class="date_postpage">2021-04-30</div>
  <div class="taxonomies_postpage">
  
      
      <a href="https://kyoheiu.gitlab.io/categories/blog/">/blog</a>
      
  
  
      
      &emsp;<a href="https://kyoheiu.gitlab.io/tags/netlify/">#Netlify</a>
      
      &emsp;<a href="https://kyoheiu.gitlab.io/tags/google-domains/">#Google Domains</a>
      
  
  </div>
</p>

<p>
  <p>Google Domainsで管理している独自ドメインを使っているのだが、少し前にロリポップ！のサーバーから引越しをした。その際、いくつかのホスティングサービスの中でどれがいいか少し迷ったので、メモ。</p>
<p>まず、オプションとして以下のものを考えた。</p>
<ul>
<li>Firebase</li>
<li>GitLab pages</li>
<li>Netlify</li>
</ul>
<p>Firebaseは良さげだったが、動的サイトのホスティング向けのような気がしたので今回はパス。</p>
<p>次にGitLab pages。僕はGitLabをメイン使いしているので当初はこれ一択かなと思っていたのだが、はっきり言って期待外れだった。<br />
というのは、独自ドメイン適用周りがどうにもこうにもうまくいっていないのだ。</p>
<h3 id="naze">なぜ</h3>
<p>そもそも公式のドキュメントが矛盾しているので、何を信用したらいいのかわからないから。</p>
<p><a href="https://docs.gitlab.com/ee/user/project/pages/custom_domains_ssl_tls_certification/">チュートリアル</a>ではAレコードをこれこれに、TXTレコードをこれこれに設定しろと書いてあるのに、カスタムドメインの設定画面ではCNAMEとTXTの設定を求めてくる。どういうことだ。<br />
実際両方やってみたのだが、どっちもうまくいかず途方に暮れた。</p>
<h3 id="netlifydenorekodoshe-ding">Netlifyでのレコード設定</h3>
<p>というわけで、Zolaのテーマサイトのホスティングにも元々使っていたNetlifyをチョイス。
Google Domainsの設定は以下のようにすればOK。</p>
<table><thead><tr><th align="left">name</th><th align="left">type</th><th align="left">TTL</th><th align="left">data</th></tr></thead><tbody>
<tr><td align="left">@</td><td align="left">A</td><td align="left">10m(or whatever you like)</td><td align="left">75.2.60.5</td></tr>
<tr><td align="left">www</td><td align="left">CNAME</td><td align="left">same as above</td><td align="left">YOURSITENAME.netlify.app.</td></tr>
</tbody></table>
<p>NetlifyはDNS設定が認証された後、自動的にTLS証明書をLet's Encryptからとってきてくれる。独自ドメインでのホスティングは今のところNetlifyが圧勝。GitLab頑張れ。</p>

</p>




    </div>
  </section>
</body>

<div class="footer">
  <a href="/">kyoheiu.gitlab.io</a>&emsp;&copy; Kyohei Uto<br>
  powered by <a href="https://www.getzola.org/">Zola</a>, theme <a
    href="https://github.com/kyoheiu/emily_zola_theme">emily</a>.
</div>

</html>
